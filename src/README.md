### ファイルの説明

 - `analizer` : 業種・市場を分析
 - `bollinger_band_counter` : 複数銘柄の最新の終値のボリンジャーバンドを集計
 - `code_acqusition` :  選択したカテゴリーの全てのコードを取得
 - `dataframe_slicer` : DataFrameを任意の数に分ける
 - `download_update` : 最新の上場銘柄一覧をダウンロード
 - `schedule_generator` : スケジュールを作成
 - `historical_volatirity` : ヒストリカルボラティリティを計算
 - `loading` : ローディングを実装
 - `market_data_acquisition` : `code_acqusition`の拡張版で、コードだけでなく価格や出来高を取得
 - `market_trend` : 市場のトレンド取得、営業日判定、Twitter・Slackボット
 - `stock_data_acquisition` : 任意の銘柄の始値や終値などを取得
 - `text_length_counter` : 全角・半角の長さを取得
 - `totalling` : 市場を集計

***

### `schedule_generator`

指定した間隔でスケジュールを作成できます。

#### 引数について

 - `fill(True)`：`0`で埋めるかどうかを指定できます。
 - `.addition`：時間を追加できます。「`'09:05'`, `'9:5'`」のどちらでも指定可能です。
 - `.delete`：関数によって生成された時間の中で、必要のない時間をあらかじめ選択できます。
 - `step(30)`：分の間隔を指定できます。`1～59`までの値を取ります。
 - `delimiter(':')`：時間と分を区切る文字を指定できます。ここに空の文字列を入れることはできません。
 - `include(True)`：ここを`False`にした場合は`range(9, 15)`としたときの15が追加されません。

##### ※カッコの中はデフォルトの値を示しています。

```python
>>> ScheduleGenerator(range(9, 12), step=20)()
['09:00', '09:20', '09:40', '10:00', '10:20', '10:40', '11:00', '11:20', '11:40', '12:00']

>>> ScheduleGenerator(range(3, 6), delimiter="-")()
['03-00', '03-30', '04-00', '04-30', '05-00', '05-30', '06-00']

>>> ScheduleGenerator(range(8, 10), fill=False, include=False)
['8:0', '8:30', '9:0', '9:30']

>>> ScheduleGenerator(range(9, 11)).addition(add_schedules=['09:15'])
['09:00', '09:15', '09:30', '10:00', '10:30', '11:00']

>>> ScheduleGenerator(range(9, 15)).delete(del_schedules=['11:30', '12:00', '12:30'])
['09:00', '09:30', '10:00', '10:30', '11:00', '13:00', '13:30', '14:00', '14:30', '15:00']

>>> ScheduleGenerator(range(9, 15)).delete(start='11:30', end='13:00')
['09:00', '09:30', '10:00', '10:30', '11:00', '13:00', '13:30', '14:00', '14:30', '15:00']
```

***

### `totalling`

`totalling`を実行することで、以下の画像とテキストデータを取得できる。
`Range`は階級を表しており、「`Rate`, `Price`, `Vollume`」はそれぞれの階級における中央値を表す。
`Market`は階級の中で一番多く割合を占めていた市場の名称と、その割合を示す。

![totalling sample image](../data/totalling_sample.png)

```

2022/01/12

UP
≡≡≡≡≡
    Range   |  Rate  |  Price  |  Volume  |     Market    |       New Market
===================================================================================
   1 ~  100 |   6.07 |  1141.5 | 187650.0 | 東証1部( 38%) |  スタンダード市場( 38%)
 101 ~  200 |   3.54 |  1270.5 |  79400.0 |   〃   ( 41%) |   プライム市場 ( 35%)
 201 ~  300 |   2.75 |  1147.5 |  78050.0 |   〃   ( 53%) |        〃      ( 45%)
 301 ~  400 |    2.2 |  1010.5 |  63100.0 |   〃   ( 58%) |        〃      ( 50%)
 401 ~  500 |    1.9 |  1053.5 |  49550.0 |   〃   ( 56%) |        〃      ( 49%)
 501 ~  600 |   1.61 |  1070.5 |  43350.0 |   〃   ( 53%) |        〃      ( 50%)
 601 ~  700 |   1.39 |   990.0 |  26550.0 |   〃   ( 47%) |        〃      ( 43%)
 701 ~  800 |   1.21 |  1423.5 |  42900.0 |   〃   ( 60%) |        〃      ( 52%)
 801 ~  900 |   1.06 |  888.75 |  22300.0 |   〃   ( 54%) |        〃      ( 46%)
 901 ~ 1000 |   0.92 |  1158.5 |  16700.0 |   〃   ( 43%) |  スタンダード市場( 45%)
1001 ~ 1100 |   0.78 |   999.5 |  18150.0 |   〃   ( 54%) |   プライム市場 ( 42%)
1101 ~ 1200 |   0.68 | 1122.75 |  24450.0 |   〃   ( 58%) |        〃      ( 47%)
1201 ~ 1300 |   0.57 |  1328.5 |  25300.0 |   〃   ( 62%) |        〃      ( 52%)
1301 ~ 1400 |   0.45 |  1339.5 |  23950.0 |   〃   ( 55%) |        〃      ( 46%)
1401 ~ 1500 |   0.36 |  1418.0 |  14250.0 |   〃   ( 57%) |        〃      ( 43%)
1501 ~ 1600 |   0.26 |  1381.5 |  20500.0 |   〃   ( 64%) |        〃      ( 54%)
1601 ~ 1700 |   0.17 |  1642.0 |  13600.0 |   〃   ( 58%) |        〃      ( 48%)
1701 ~ 1800 |   0.09 |  1765.0 |    15000 |   〃   ( 55%) |        〃      ( 43%)


DOWN
≡≡≡≡≡≡
    Range   |  Rate  |  Price  |  Volume  |     Market    |       New Market
===================================================================================
   1 ~  100 |  -0.11 |  1450.0 |  14300.0 | 東証1部( 51%) |   プライム市場 ( 43%)
 101 ~  200 |   -0.2 |  1653.5 |  17050.0 |   〃   ( 56%) |        〃      ( 45%)
 201 ~  300 |  -0.29 |  1529.0 |  20750.0 |   〃   ( 58%) |        〃      ( 51%)
 301 ~  400 |  -0.36 |  1714.0 |  19800.0 |   〃   ( 61%) |        〃      ( 52%)
 401 ~  500 |  -0.46 |  1352.0 |  11750.0 |   〃   ( 52%) |        〃      ( 40%)
 501 ~  600 |  -0.56 |  1460.0 |  16250.0 |   〃   ( 57%) |        〃      ( 49%)
 601 ~  700 |  -0.65 |  1493.5 |  30150.0 |   〃   ( 62%) |        〃      ( 59%)
 701 ~  800 |  -0.75 |  1640.0 |  18900.0 |   〃   ( 51%) |        〃      ( 42%)
 801 ~  900 |  -0.87 |  1275.0 |  22300.0 |   〃   ( 51%) |        〃      ( 41%)
 901 ~ 1000 |  -0.98 |  1653.0 |  38050.0 |   〃   ( 61%) |        〃      ( 49%)
1001 ~ 1100 |  -1.08 |  1925.5 |  39850.0 |   〃   ( 60%) |        〃      ( 53%)
1101 ~ 1200 |   -1.2 |  1594.0 |  41150.0 |   〃   ( 64%) |        〃      ( 61%)
1201 ~ 1300 |  -1.34 |  1431.5 |  39050.0 |   〃   ( 50%) |        〃      ( 42%)
1301 ~ 1400 |  -1.53 |  1665.5 |  34300.0 |   〃   ( 66%) |        〃      ( 58%)
1401 ~ 1500 |  -1.73 |  1054.0 |  38850.0 |   〃   ( 46%) |        〃      ( 38%)
1501 ~ 1600 |  -1.97 |  1550.0 |  36900.0 |   〃   ( 47%) |        〃      ( 45%)
1601 ~ 1700 |  -2.22 |  1676.0 |  41750.0 |   〃   ( 55%) |        〃      ( 50%)
1701 ~ 1800 |  -2.58 |  1566.5 |  47850.0 |   〃   ( 49%) |        〃      ( 44%)
1801 ~ 1900 |  -2.99 |  1486.0 |  67950.0 |   〃   ( 55%) |        〃      ( 52%)
1901 ~ 2000 |  -3.58 |  1454.0 |  95450.0 |   〃   ( 46%) |        〃      ( 39%)
2001 ~ 2100 |  -4.79 |  1778.0 | 126400.0 |   〃   ( 43%) |        〃      ( 39%)
2101 ~ 2200 |  -7.87 |  1583.0 |   263900 |   〃   ( 39%) |  スタンダード市場( 37%)

```

***

### `historical_volatirity`

![hv](../data/historical_volatility.png)
